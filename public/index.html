<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/8.2.9/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/8.2.9/firebase-auth.js"></script>
    <script defer src="/__/firebase/8.2.9/firebase-firestore.js"></script>

    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

  </head>
  <body>
    <div>
      <!-- <input type="text" id="login-status" readonly="readonly"> -->

      <div class="row g-5">
        <div class="col-6">
          <h2>timetable</h2>
        </div>
        <div class="col-2">
          <button type="button" id="login-btn" class="btn btn-outline-warning btn-lg">LogIn</button>
        </div>
      </div>

      <p>test</p>
      <button type="button" class="btn btn-primary" id="addBtn" onclick="location.href='./signup.html'">signUp</button>
      <button type="button" class="btn btn-primary" id="addBtn" onclick="location.href='./signin.html'">signIn</button>
      <ul id="list"></ul>

    </div>

    <!-- わからなくてなんとなく読み込んでいる -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
    <!--firebase UIの読み込み-->
    <script src="https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.css" />

    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-firestore.js"></script>


    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      var firebaseConfig = {
        apiKey: "AIzaSyA4IUMABIg3koI5Gn9--x2igHayBwRdiig",
        authDomain: "umelab-29c16.firebaseapp.com",
        projectId: "umelab-29c16",
        storageBucket: "umelab-29c16.appspot.com",
        messagingSenderId: "444754040640",
        appId: "1:444754040640:web:f51272614f01531bc88ca5",
        measurementId: "G-CZ2P16QHER"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);


      const db = firebase.firestore();
      // db.collection("rooms").doc("mon1").collection('classes').doc('english').set({
      //   id: 4,
      //   name: "英語"
      // })
      // .then(() => {
      //   console.log("Document successfully written!");
      // })
      //   .catch((error) => {
      // console.error("Error writing document: ", error);
      // });

      
      let classData = [
        ["Mon1", "math", "m101", 0, "月曜1限", "数学","田中"],
        ["Mon1", "english", "m102", 1, "月曜1限", "英語","鈴木"],
        ["Mon1", "japanese", "m103", 2, "月曜1限", "国語", "栗原"],
        ["Mon2", "science", "m201", 3, "月曜2限","理科", "大塚"]
      ];

      for (let i=0; i<classData.length; i++) {
        db.collection("rooms").doc(classData[i][0]).collection("classes").doc(classData[i][1]).set({
          id:classData[i][2],
          classId:classData[i][3],
          period:classData[i][4],
          name:classData[i][5],
          teacher:classData[i][6],

        })
        .then(() => {
          console.log("Document successfully written!");
        })
          .catch((error) => {
        console.error("Error writing document: ", error);
        });

        // db.collection("rooms").doc(classData[i][0]).collection("classes").doc(classData[i][1]).collection("chat").add({
        //   name:"aya",
        //   msg:"こんにちは",
        //   createdAt:"2021年3月2日 14:03:24 UTC+9"
        // })
        // .then(() => {
        //   console.log("Document successfully written!");
        // })
        //   .catch((error) => {
        // console.error("Error writing document: ", error);
        // });

        // db.collection("rooms").doc(classData[i][0]).collection("classes").doc(classData[i][1]).collection("users").add({
        //   name:"aya",
        // })
        // .then(() => {
        //   console.log("Document successfully written!");
        // })
        //   .catch((error) => {
        // console.error("Error writing document: ", error);
        // });
      }
    </script>

    <!-- ここまでわからなくてなんとなく読み込んでいるところ -->
    <!-- <script src="./js/login.js"></script> -->
  </body>
</html>
